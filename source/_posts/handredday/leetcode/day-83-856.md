---
title: leetcode 百天解题 - day 83 - 856. 括号的分数
cover: /assets/cover/60712774_p1.png
date: 2022-10-09 22:04:55
updated: 2022-10-09 22:04:55
hidden: true
categories:
    - [handredday, leetcode]
tags:
    - leetcode
    - JavaScript
---

## 题目名称

**直接看的题解，具体算法还是没能理解透彻**

{% blockquote %}
给定一个平衡括号字符串 S，按下述规则计算该字符串的分数：

() 得 1 分。
AB 得 A + B 分，其中 A 和 B 是平衡括号字符串。
(A) 得 2 * A 分，其中 A 是平衡括号字符串。
{% endblockquote %}

## 示例

{% blockquote %}
输入： "(()(()))"
输出： 6
{% endblockquote %}


## 题解

![题解](/assets/blogImg/856.png)

{% blockquote %}
以 "(()(()))" 为例
i = 0 stack = [0, 0]
i = 1 stack = [0, 0, 0]
i = 2 stack = [0, 1]
i = 3 stack = [0, 1, 0]
i = 4 stack = [0, 1, 0, 0]
i = 5 stack = [0, 1, 1]
i = 6 stack = [0, 3]
i = 7 stack = [6]

{% endblockquote %}
## 答案

~~~js
/**
 * @param {string} s
 * @return {number}
 */
var scoreOfParentheses = function(s) {
  let stack = [0]
  for(let i = 0; i < s.length; i++) {
    if(s[i] === "(") {
      stack.push(0)
    } else {
      let v = stack.pop()
      let deep = stack.pop() + Math.max(2 * v, 1)
      stack.push(deep)
    }
  }
  return stack[0]
};
~~~