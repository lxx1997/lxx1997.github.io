---
title: leetcode 百天解题 - day 37 - 1460. 通过翻转子数组使两个数组相等
cover: /assets/cover/·_61032635_p2.png
date: 2022-08-24 21:36:15
updated: 2022-08-24 21:36:15
hidden: true
categories:
    - [handredday, leetcode]
tags:
    - leetcode
    - JavaScript
---

## 题目名称

给你两个长度相同的整数数组 target 和 arr 。每一步中，你可以选择 arr 的任意 非空子数组 并将它翻转。你可以执行此过程任意次。

如果你能让 arr 变得与 target 相同，返回 True；否则，返回 False 。

## 示例

输入：target = [1,2,3,4], arr = [2,4,1,3]
输出：true

解释：你可以按照如下步骤使 arr 变成 target：
1- 翻转子数组 [2,4,1] ，arr 变成 [1,4,2,3]
2- 翻转子数组 [4,2] ，arr 变成 [1,2,4,3]
3- 翻转子数组 [4,3] ，arr 变成 [1,2,3,4]
上述方法并不是唯一的，还存在多种将 arr 变成 target 的方法。


## 题解

这道题不要被题目所引导，根据题意，我们可以进行任意数目的子数组进行翻转任意次，也就是说如果两个数组包含的元素及元素对应个数一致的话，不管数组内元素如何排列，在进行有限次的翻转后肯定会出现两个数组相同

所以本次解题的重点不在翻转，而在于判断两个数组的元素及对应个数是否相同

首先我们将两个数组的元素及其对应个数分别写入两个hash 对象里，然后遍历hash 的值，看对应hash 的值是否相同

更加简化的是用一个hash 来操作，如果最后hash 的所有值都为0，则代表两个数组相同

## 答案

~~~js
/**
 * @param {number[]} target
 * @param {number[]} arr
 * @return {boolean}
 */
var canBeEqual = function(target, arr) {
    let targetHash = {}, arrHash = {}
    for(let i = 0; i < target.length; i++) {
        let t = target[i], a = arr[i]
        if(!targetHash[t]) targetHash[t] = 0
        if(!arrHash[a]) arrHash[a] = 0
        targetHash[t]++
        arrHash[a]++
    }

    return Object.keys(targetHash).some(item => targetHash[item] !== arrHash[item])
};

// 简化后版本
var canBeEqual = function(target, arr) {
    let targetHash = {}
    for(let i = 0; i < target.length; i++) {
        targetHash[target[i]] = (targetHash[target[i]] || 0) + 1
        targetHash[arr[i]] = (targetHash[arr[i]] || 0) - 1
    }

    return Object.values(targetHash).every(item => item === 0)
};
~~~

