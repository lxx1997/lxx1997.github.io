---
title: leetcode 百天解题 - day 62 - 38. 外观数列
cover: /assets/cover/◇アイコン_80589921_p5.png
date: 2022-09-18 09:51:23
updated: 2022-09-18 09:51:23
hidden: true
categories:
    - [handredday, leetcode]
tags:
    - leetcode
    - JavaScript
---

## 题目名称

{% blockquote %}
给定一个正整数 n ，输出外观数列的第 n 项。

「外观数列」是一个整数序列，从数字 1 开始，序列中的每一项都是对前一项的描述。

你可以将其视作是由递归公式定义的数字字符串序列：

countAndSay(1) = "1"
countAndSay(n) 是对 countAndSay(n-1) 的描述，然后转换成另一个数字字符串。
前五项如下：

1.     1
2.     11
3.     21
4.     1211
5.     111221
第一项是数字 1 
描述前一项，这个数是 1 即 “ 一 个 1 ”，记作 "11"
描述前一项，这个数是 11 即 “ 二 个 1 ” ，记作 "21"
描述前一项，这个数是 21 即 “ 一 个 2 + 一 个 1 ” ，记作 "1211"
描述前一项，这个数是 1211 即 “ 一 个 1 + 一 个 2 + 二 个 1 ” ，记作 "111221"
要 描述 一个数字字符串，首先要将字符串分割为 最小 数量的组，每个组都由连续的最多 相同字符 组成。然后对于每个组，先描述字符的数量，然后描述字符，形成一个描述组。要将描述转换为数字字符串，先将每组中的字符数量用数字替换，再将所有描述组连接起来。

例如，数字字符串 "3322251" 的描述如下图：
{% endblockquote %}
![leetcode-38](/assets/blogImg/leetcode-38.png)

## 示例

{% blockquote %}
输入：n = 4
输出："1211"
解释：
countAndSay(1) = "1"
countAndSay(2) = 读 "1" = 一 个 1 = "11"
countAndSay(3) = 读 "11" = 二 个 1 = "21"
countAndSay(4) = 读 "21" = 一 个 2 + 一 个 1 = "12" + "11" = "1211"
{% endblockquote %}


## 题解

{% blockquote %}
这道题其实并没有多麻烦
首先假如我们输入数字为 5，这个时候我们需要读的数字是 4 的外观数列
而 4 的外观数列则是根据 3 的外观数列得出的，最后一直追溯到 1 的外观数列

所以此处采用的方法是递归的操作
首先根据 1 的外观数列计算得出 2 的外观数列
然后根据 2 的外观数列计算得出 3 的外观数列
最后递归计算出 5 的外观数列

在计算外观数列时，相同的且连续的数，用 n 个 x 来计算既要输出成 nx 的模式
{% endblockquote %}

## 答案

~~~js
/**
 * @param {number} n
 * @return {string}
 */
var countAndSay = function(n) {
  if(n === 1) {
    return "1"
  }
  let before = countAndSay(n-1), bs = "", bl = 0, s = ""
  for(let i = 0; i < before.length; i++) {
    if(bs !== before[i]) {
      s += (bl > 0 ? `${bl}${bs}` : "")
      bs = before[i]
      bl = 1
    } else {
      bl++
    }
  }
  s += `${bl}${bs}`
  return s
};
~~~

