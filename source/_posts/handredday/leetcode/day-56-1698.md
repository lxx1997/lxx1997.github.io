---
title: leetcode 百天解题 - day 56 - 1608. 特殊数组的特征值
cover: /assets/cover/·_61032635_p21.png
date: 2022-09-12 17:58:04
updated: 2022-09-12 17:58:04
hidden: true
categories:
    - [handredday, leetcode]
tags:
    - leetcode
    - JavaScript
---

## 题目名称

{% blockquote %}
给你一个非负整数数组 nums 。如果存在一个数 x ，使得 nums 中恰好有 x 个元素 大于或者等于 x ，那么就称 nums 是一个 特殊数组 ，而 x 是该数组的 特征值 。

注意： x 不必 是 nums 的中的元素。

如果数组 nums 是一个 特殊数组 ，请返回它的特征值 x 。否则，返回 -1 。可以证明的是，如果 nums 是特殊数组，那么其特征值 x 是 唯一的 。
{% endblockquote %}

## 示例

{% blockquote %}
输入：nums = [3,5]
输出：2
解释：有 2 个元素（3 和 5）大于或等于 2 。
{% endblockquote %}


## 题解

{% blockquote %}
这道题可以采用`二分法`和`哈希值`来计算

首先将数组中的每个元素的个数计算出来

接下来通过二分法来一步步的算出 特征值的范围
{% endblockquote %}

## 答案

~~~js
/**
 * @param {number[]} nums
 * @return {number}
 */
var specialArray = function(nums) {
  const numHash = {}
  for(let i = 0; i < nums.length; i++) {
    if(!numHash[nums[i]]) {
      numHash[nums[i]] = 0
    }
    numHash[nums[i]]++
  }
  let max = 1000, min = 0, half = (max + min) >> 1
  while(max >= min) {
    let total = Object.keys(numHash).reduce((total, item) => {
      if(item >= half) {
        total += numHash[item]
      }
      return total
    } , 0)
    if(total > half) {
      min = half + 1
      half = (max + min) >> 1
    } else if(total < half) {
      max = half - 1
      half = (max + min) >> 1
    } else {
      return half
    }
  }
  return - 1
};
~~~