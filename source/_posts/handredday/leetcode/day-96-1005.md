---
title: leetcode 百天解题 - day 96 - 1005. K 次取反后最大化的数组和
cover: /assets/cover/◇アイコン_80589921_p5.png
date: 2022-10-22 22:40:25
updated: 2022-10-22 22:40:25
hidden: true
categories:
    - [handredday, leetcode]
tags:
    - leetcode
    - JavaScript
---

## 题目名称

{% blockquote %}
给你一个整数数组 nums 和一个整数 k ，按以下方法修改该数组：

选择某个下标 i 并将 nums[i] 替换为 -nums[i] 。
重复这个过程恰好 k 次。可以多次选择同一个下标 i 。

以这种方式修改数组后，返回数组 可能的最大和 
{% endblockquote %}

## 示例

{% blockquote %}
输入：nums = [4,2,3], k = 1
输出：5
解释：选择下标 1 ，nums 变为 [4,-2,3] 。
{% endblockquote %}


## 题解


{% blockquote %}

先针对数组进行排序
然后从最小值开始进行翻转，当 k > 0 且 第i位 小于0 的时候翻转，并且记录一下翻转后的数组的最小值
最后如果 k % 2 = 0， 直接返回数组的和
如果k % 2 = 1 返回数组的和减去 二倍的最小值

{% endblockquote %}

## 答案

~~~js
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var largestSumAfterKNegations = function(nums, k) {
  let min = Infinity;
  nums = nums.sort((a, b) => a - b)
  for(let i = 0; i < nums.length; i++) {
    if(k > 0 && nums[i] < 0 ) {
      nums[i] = -nums[i]
      k--
    }
    if(k > 0) {
      min = Math.min(min, nums[i])
    }
  }
  let total = nums.reduce((total, item) => total += item, 0)
  if(k % 2 === 0) return total
  return total - min * 2
};
~~~