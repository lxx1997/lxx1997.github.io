---
title: leetcode 百天解题 - day 104 - 2383. 赢得比赛需要的最少训练时长
cover: /assets/cover/64479151_p4.png
date: 2023-03-13 09:42:55
updated: 2023-03-13 09:42:55
hidden: true
categories:
    - [handredday, leetcode]
tags:
    - leetcode
    - JavaScript
---


## 题目名称

{% blockquote %}
你正在参加一场比赛，给你两个 正 整数 initialEnergy 和 initialExperience 分别表示你的初始精力和初始经验。

另给你两个下标从 0 开始的整数数组 energy 和 experience，长度均为 n 。

你将会 依次 对上 n 个对手。第 i 个对手的精力和经验分别用 energy[i] 和 experience[i] 表示。当你对上对手时，需要在经验和精力上都 严格 超过对手才能击败他们，然后在可能的情况下继续对上下一个对手。

击败第 i 个对手会使你的经验 增加 experience[i]，但会将你的精力 减少  energy[i] 。

在开始比赛前，你可以训练几个小时。每训练一个小时，你可以选择将增加经验增加 1 或者 将精力增加 1 。

返回击败全部 n 个对手需要训练的 最少 小时数目。
{% endblockquote %}

## 示例

{% blockquote %}
输入：initialEnergy = 5, initialExperience = 3, energy = [1,4,3,2], experience = [2,6,3,1]
输出：8
解释：在 6 小时训练后，你可以将精力提高到 11 ，并且再训练 2 个小时将经验提高到 5 。
按以下顺序与对手比赛：
- 你的精力与经验都超过第 0 个对手，所以获胜。
  精力变为：11 - 1 = 10 ，经验变为：5 + 2 = 7 。
- 你的精力与经验都超过第 1 个对手，所以获胜。
  精力变为：10 - 4 = 6 ，经验变为：7 + 6 = 13 。
- 你的精力与经验都超过第 2 个对手，所以获胜。
  精力变为：6 - 3 = 3 ，经验变为：13 + 3 = 16 。
- 你的精力与经验都超过第 3 个对手，所以获胜。
  精力变为：3 - 2 = 1 ，经验变为：16 + 1 = 17 。
在比赛前进行了 8 小时训练，所以返回 8 。
可以证明不存在更小的答案。
{% endblockquote %}

{% blockquote %}
输入：initialEnergy = 2, initialExperience = 4, energy = [1], experience = [3]
输出：0
解释：你不需要额外的精力和经验就可以赢得比赛，所以返回 0 。
{% endblockquote %}


## 题解


{% blockquote %}

根据题意可知，如果想要赢得比赛，需要每一次比赛时，我们的精力和经验都要大于对手，而赢一场时，精力需要减去对手的精力，精力加上对手的精力，所以会出现一下几种情况。

首先精力的训练很好统计，统计一下对手的所需的总精力，然后和自己的精力对比是否需要训练（记住，计算时，总精力需要再加 1）。

然后就是经验计算了。

1. 当前经验不够当前对手的经验，需要训练 （对手经验 - 当前经验 + 1） 的时间，训练完成后，当前经验为 对手经验 + 1，对局成功后，当前经验为 （当前经验 + 对手经验）

2. 当前经验比对手经验搞，不需要计算，对局成功后，当前经验为 （当前经验 + 对手经验）

{% endblockquote %}

## 答案

~~~js
/**
 * @param {number} initialEnergy
 * @param {number} initialExperience
 * @param {number[]} energy
 * @param {number[]} experience
 * @return {number}
 */
 var minNumberOfHours = function(initialEnergy, initialExperience, energy, experience) {
  let totalNeedEnergy = energy.reduce((total, item) => total += item, 0)
  if(totalNeedEnergy < initialEnergy) {
    totalNeedEnergy = 0
  } else {
    totalNeedEnergy = totalNeedEnergy - initialEnergy + 1
  }
  let needExprience = 0
  for(let i = 0; i < experience.length; i++) {
    if(initialExperience <= experience[i]) {
      needExprience += experience[i] - initialExperience + 1
      initialExperience = experience[i] + 1
    }
    initialExperience += experience[i]
  }
  return totalNeedEnergy + needExprience
};

console.log(minNumberOfHours(5,3,[1,4,3,2], [2,6,3,1]), 8)
console.log(minNumberOfHours(2,4,[1], [3]), 0)
console.log(minNumberOfHours(5,3,[1,4], [2,5]), 2)
console.log(minNumberOfHours(1,1,[1,1,1,1], [1,1,1,50]), 51)
~~~
